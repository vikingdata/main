 
<!-- saved from url=(0037)http://10.214.159.206/av/dashboard.py -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=windows-1252"></head><body>
    <ul>
<li> <a href="#mysql">MySQL</a>
</li><li> <a #mongo">mongo</a>
</li><li> <a #AWS">AWS</a>
</li></ul>



<hr>
<a name="mysql&lt;/a">
<h1>MySQL Reporting Servers</h1>
All stats are live except DiskSpace, Tables, and some misc.
<table border="1">
<tbody><tr><th colspan="7"> Host

   </th><th colspan="7"> Processes
   </th><th colspan="7"> Replication (Master is 2 columns, slave is 5)

   </th><th colspan="6">Diskspace
   </th><th colspan="7">Tables (can be way off if not optimized)
   </th><th colspan="6">misc

</th></tr><tr><th>Description</th><th> Host</th><th>Ip </th><th>C </th><th>H </th><th>D </th><th>UP
   </th><th>Max </th><th> R</th><th>S </th><th> L</th><th>Rep </th><th>Other</th><th>T
   </th><th>Mbl</th><th>Mpos</th><th>MHost</th><th>Sbl</th><th>Spos</th><th>IO</th><th>SQL     
   </th><th>Total GB</th><th>Used GB </th><th> % </th><th>Rate GB</th><th> days 90% </th><th>Days Filled
   </th><th>No DB</th><th>No Tbl</th><th>Data</th><th>Index</th><th>Total</th><th>Empty</th><th>IHB
     </th><th>cpu</th><th>Mem</th><th>Uptime</th><th nowrap="">OS</th><th nowrap="">Mysql
     </th><th nowrap="">Daily Data<br> Last Ran   

</th></tr><tr><td nowrap="">Server 2 Slave</td><td nowrap=""><font size="-2">server111</font></td><td><font size="-2">10.1.15.201</font></td><td>C</a></td><td>H</a></td><td>D</a></td><td bgcolor="green">-</td><td>450</a>
	</td><td>0</td><td>1</td><td>0</td><td>2</td><td>0</td><td>3
	</td><td><font size="-1">18</a></font></td><td nowrap=""><font size="-1">222799831</font></td><td nowrap=""><font size="-1">10.1.15.200</a></font></td><td nowrap=""><font size="-1">1327</font></td><td nowrap=""><font size="-1">987907415</font></td><td nowrap=""><font size="-1">Yes</font></td><td nowrap=""><font size="-1">Yes</font>
	</td><td>2232</a><a></a></td><td>2047</td><td>92%</td><td>1</td><td>-1</td><td>102
	</td><td>7</td><td>386</td><td>543</td><td>632</td><td>1175</td><td>7</td><td>99%
	</td><td nowrap="">32</td><td nowrap="">94</td><td nowrap="">140</td><td nowrap=""><font size="-2">CentOS Linux release 7.5.1804 (Core) </font></td><td nowrap=""><font size="-2">5.7.23-24-log</font></td><td nowrap=""><font size="-2">20210107 FINI</font></td></tr>
<tr><td nowrap="">server C Master</td><td nowrap=""><font size="-2">server216</font></td><td><font size="-2">10.1.111.216</font></td><td>C</a></td><td>H</a></td><td>D</a></td><td bgcolor="green">-</td><td>450</a>
	</td><td>0</td><td>1</td><td>0</td><td>1</td><td>0</td><td>2
	</td><td><font size="-1">8039</a></font></td><td nowrap=""><font size="-1">491933397</font></td><td nowrap=""><font size="-1"></font></td><td nowrap=""><font size="-1"></font></td><td nowrap=""><font size="-1"></font></td><td nowrap=""><font size="-1"></font></td><td nowrap=""><font size="-1"></font>
	</td><td>13998</a><a></a></td><td>11719</td><td>84%</td><td>16</td><td>53</td><td>139
	</td><td>5</td><td>234</td><td>3764</td><td>4275</td><td>8040</td><td>0</td><td>99%
	</td><td nowrap="">32</td><td nowrap="">503</td><td nowrap="">51</td><td nowrap=""><font size="-2">CentOS Linux release 7.7.1908 (Core)</font></td><td nowrap=""><font size="-2">5.7.28-31-log</font></td><td nowrap=""><font size="-2">20210107 FINI</font></td></tr>
<tr><td nowrap="">server C  Slave</td><td nowrap=""><font size="-2">server217</font></td><td><font size="-2">10.1.111.217</font></td><td>C</a></td><td>H</a></td><td>D</a></td><td bgcolor="green">-</td><td>450</a>
	</td><td>0</td><td>1</td><td>0</td><td>2</td><td>0</td><td>3
	</td><td><font size="-1">6642</a></font></td><td nowrap=""><font size="-1">154</font></td><td nowrap=""><font size="-1">10.1.111.216</a></font></td><td nowrap=""><font size="-1">8039</font></td><td nowrap=""><font size="-1">491933397</font></td><td nowrap=""><font size="-1">Yes</font></td><td nowrap=""><font size="-1">Yes</font>
	</td><td>13998</a><a></a></td><td>11215</td><td>81%</td><td>15</td><td>89</td><td>179
	</td><td>4</td><td>233</td><td>4310</td><td>4851</td><td>9161</td><td>0</td><td>99%
	</td><td nowrap="">32</td><td nowrap="">503</td><td nowrap="">140</td><td nowrap=""><font size="-2">CentOS Linux release 7.7.1908 (Core)</font></td><td nowrap=""><font size="-2">5.7.27-30-log</font></td><td nowrap=""><font size="-2">20210107 FINI</font></td></tr>
<tr><td nowrap="">Server 1 Master</td><td nowrap=""><font size="-2">server218</font></td><td><font size="-2">10.1.111.218</font></td><td>C</a></td><td>H</a></td><td>D</a></td><td bgcolor="green">-</td><td>450</a>
	</td><td>0</td><td>1</td><td>0</td><td>1</td><td>0</td><td>2
	</td><td><font size="-1">2304</a></font></td><td nowrap=""><font size="-1">721359342</font></td><td nowrap=""><font size="-1"></font></td><td nowrap=""><font size="-1"></font></td><td nowrap=""><font size="-1"></font></td><td nowrap=""><font size="-1"></font></td><td nowrap=""><font size="-1"></font>
	</td><td>2756</a><a></a></td><td>2123</td><td>82%</td><td>1</td><td>356</td><td>631
	</td><td>20</td><td>910</td><td>418</td><td>366</td><td>784</td><td>6</td><td>99%
	</td><td nowrap="">24</td><td nowrap="">94</td><td nowrap="">7</td><td nowrap=""><font size="-2">CentOS release 6.9 (Final)</font></td><td nowrap=""><font size="-2">5.7.18-16-log</font></td><td nowrap=""><font size="-2">20210107 FINI</font></td></tr>
<tr><td nowrap="">Server 1 Slave</td><td nowrap=""><font size="-2">server219</font></td><td><font size="-2">10.1.111.219</font></td><td>C</a></td><td>H</a></td><td>D</a></td><td bgcolor="green">-</td><td>450</a>
	</td><td>0</td><td>1</td><td>0</td><td>2</td><td>0</td><td>3
	</td><td><font size="-1">228</a></font></td><td nowrap=""><font size="-1">129140623</font></td><td nowrap=""><font size="-1">10.1.111.218</a></font></td><td nowrap=""><font size="-1">2304</font></td><td nowrap=""><font size="-1">721359342</font></td><td nowrap=""><font size="-1">Yes</font></td><td nowrap=""><font size="-1">Yes</font>
	</td><td>2756</a><a></a></td><td>2109</td><td>81%</td><td>0</td><td>386</td><td>672
	</td><td>20</td><td>910</td><td>1052</td><td>782</td><td>1834</td><td>6</td><td>99%
	</td><td nowrap="">24</td><td nowrap="">94</td><td nowrap="">7</td><td nowrap=""><font size="-2">CentOS release 6.9 (Final)</font></td><td nowrap=""><font size="-2">5.7.18-16-log</font></td><td nowrap=""><font size="-2">20210107 FINI</font></td></tr>
<tr><td nowrap="">Server 2 Master</td><td nowrap=""><font size="-2">server200</font></td><td><font size="-2">10.1.1.200</font></td><td>C</a></td><td>H</a></td><td>D</a></td><td bgcolor="green">-</td><td>450</a>
	</td><td>0</td><td>1</td><td>0</td><td>1</td><td>0</td><td>2
	</td><td><font size="-1">1327</a></font></td><td nowrap=""><font size="-1">987907415</font></td><td nowrap=""><font size="-1"></font></td><td nowrap=""><font size="-1"></font></td><td nowrap=""><font size="-1"></font></td><td nowrap=""><font size="-1"></font></td><td nowrap=""><font size="-1"></font>
	</td><td>2232</a><a></a></td><td>2070</td><td>93%</td><td>1</td><td>-1</td><td>99
	</td><td>7</td><td>386</td><td>627</td><td>668</td><td>1296</td><td>7</td><td>99%
	</td><td nowrap="">32</td><td nowrap="">94</td><td nowrap="">140</td><td nowrap=""><font size="-2">CentOS Linux release 7.5.1804 (Core) </font></td><td nowrap=""><font size="-2">5.7.23-23-log</font></td><td nowrap=""><font size="-2">20210107 FINI</font></td></tr>
<tr><td nowrap="">Main Master</td><td nowrap=""><font size="-2">report01</font></td><td><font size="-2">10.1.111.100</font></td><td>C</a></td><td>H</a></td><td>D</a></td><td bgcolor="green">-</td><td>300</a>
	</td><td>0</td><td>2</td><td>0</td><td>1</td><td>0</td><td>3
	</td><td><font size="-1">78</a></font></td><td nowrap=""><font size="-1">813686373</font></td><td nowrap=""><font size="-1"></font></td><td nowrap=""><font size="-1"></font></td><td nowrap=""><font size="-1"></font></td><td nowrap=""><font size="-1"></font></td><td nowrap=""><font size="-1"></font>
	</td><td>4262</td><td>2693</td><td>64%</td><td>3</td><td>377</td><td>518
	</td><td>22</td><td>1247</td><td>612</td><td>1257</td><td>1869</td><td>102</td><td>99%
	</td><td nowrap="">32</td><td nowrap="">188</td><td nowrap="">119</td><td nowrap=""><font size="-2">CentOS Linux release 7.8.2003 (Core)</font></td><td nowrap=""><font size="-2">5.7.31-34-log</font></td><td nowrap=""><font size="-2">20210107 FINI</font></td></tr>
<tr><td nowrap="">Main Slave</td><td nowrap=""><font size="-2">report02</font></td><td><font size="-2">10.1.111.101</font></td><td>C</a></td><td>H</a></td><td>D</a></td><td bgcolor="green">-</td><td>300</a>
	</td><td>0</td><td>1</td><td>0</td><td>2</td><td>0</td><td>3
	</td><td><font size="-1">527</a></font></td><td nowrap=""><font size="-1">738192699</font></td><td nowrap=""><font size="-1">10.1.111.100</a></font></td><td nowrap=""><font size="-1">78</font></td><td nowrap=""><font size="-1">813686373</font></td><td nowrap=""><font size="-1">Yes</font></td><td nowrap=""><font size="-1">Yes</font>
	</td><td>4262</td><td>2490</td><td>59%</td><td>2</td><td>477</td><td>628
	</td><td>22</td><td>1247</td><td>563</td><td>1177</td><td>1741</td><td>1</td><td>99%
	</td><td nowrap="">32</td><td nowrap="">188</td><td nowrap="">111</td><td nowrap=""><font size="-2">CentOS Linux release 7.8.2003 (Core)</font></td><td nowrap=""><font size="-2">5.7.31-34-log</font></td><td nowrap=""><font size="-2">20210107 FINI</font></td></tr>
</tbody></table>

<h2>Legend</h2>
<hr>
<ul>
    <li>Host
    <ul>
    <li>C are checks ran against each server. Not live. Putting in dashboard.
    </li><li> H is history of server in regards to processlist - when done. 
    </li><li>D are all the read only commands to execute -- when done. Like show status, variables, master, slave, etc. 

</li></ul>


    </li><li>Processes
    <ul>
    <li>Max  :Max connections : Link shows processlist (when done)
    </li><li>R : Running Queries
    </li><li>S : Sleeping (any connection with less than 1 second active time)
    </li><li>L : Locked
    </li><li>Rep : Replication
    </li><li>Other : other processes
    </li><li>T : Total (should the same as all the connections)
    </li></ul>

    </li><li>Replication<ul>
    <li>Mbl : Master Bin Log file
    </li><li>Mpos : Mster Position
    </li><li>MHost : Master Host (for Slave)
    </li><li>Sbl : Slaves's binlog file read compared to master
    </li><li>Spos: Slave's position compared to Master
    </li><li>IO : IO Slave thread running
    </li><li>SQL : SQL Slave thread running
</li></ul>
    </li><li>Diskspace<ul>
    <li>Total GB : Total Gigabytes for mysql partition
    </li><li>Used GB : Used Gigabytes
    </li><li> % : % diskspace used for the mysql partition
    </li><li>Rate GB
    </li><li>Days 90%
    </li><li> Days filled
    </li></ul>

    </li><li>Tables -- Sizes may be VERY inaccurate if tables are not optimized. You can
test this manually with<pre>SELECT   sum(DATA_LENGTH / 1024  ) as data_size,   sum(index_LENGTH / 1024  ) as index_size,
   sum(DATA_FREE / 1024  ) as DATA_FREE_size, sum((DATA_LENGTH+index_LENGTH)/1024), count(1)
FROM   information_schema.TABLES
WHERE   TABLE_SCHEMA not in ('mysql', 'test', 'information_schema','performance_schema', 'sys');</pre>
<ul>
    <li>No DB : no of databases
    </li><li>No Tbl : no of tables
    </li><li>Data : Amount of data in GB
    </li><li>Index : Amount of index in GB
    </li><li>Total : Index + data
    </li><li>Empty : Free or deleted space in table in GB
    </li><li>IHB : Innodb Hit Buffer Ratio. 99% is good
    </li></ul>
    </li><li>Misc<ul>
    <li>cpu : no of cpu
    </li><li>Mem : memory in gigs
    </li><li>Uptime: uptime of mysql in days
    </li><li>OS : Operating system version
    </li><li>Mysql : mysql version
    </li></ul>
</li></ul>

